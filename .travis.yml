dist: trusty

language: python

python: 3.5

addons:
    apt:
        sources:
           - ubuntu-toolchain-r-test
        packages:
            #            - libpython3-all-dev
            - libgmp3-dev
            - git
            - cmake
            - zlib1g
            - zlib1g-dev
            - graphviz-dev
            - git
            - g++-4.9
            - build-essential

before_install:
    - export CXX="g++-4.9"
    - export CC="gcc-4.9"

install:
    # Build monosat
    - git clone https://github.com/sambayless/monosat.git 
    - cd monosat
    - cmake .
    - make -j 2
    - sudo make install
    - cd src/monosat/api/python
    - pip install -e .
    - cd $TRAVIS_BUILD_DIR
    # Build z3
    - git clone https://github.com/Z3Prover/z3.git
    - cd z3
    - python scripts/mk_make.py --python
    - cd build
    - make -j 2
    - sudo make install
    - cd $TRAVIS_BUILD_DIR
    - pip install pygraphviz

script: 
    - cd ./mothball/new/
    - ./demo.sh


